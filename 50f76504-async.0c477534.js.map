{"version":3,"sources":["components/mermaid/demo/basic.tsx?techStack=react","components/mermaid/demo/custom-header.tsx?techStack=react","components/mermaid/demo/_semantic.tsx?techStack=react","components/mermaid/demo/with-xmarkdown.tsx?techStack=react","components/mermaid/demo/header-actions.tsx?techStack=react"],"sourcesContent":["import '/home/runner/work/x/x/packages/x/components/mermaid/demo/basic.tsx?watch=parent';import { Mermaid } from '@ant-design/x';\nimport React from 'react';\n\nconst App: React.FC = () => (\n  <Mermaid>\n    {`graph TD\n    A[开始] --> B{条件判断}\n    B -->|是| C[执行操作A]\n    B -->|否| D[执行操作B]\n    C --> E[结束]\n    D --> E`}\n  </Mermaid>\n);\n\nexport default App;\n","import '/home/runner/work/x/x/packages/x/components/mermaid/demo/custom-header.tsx?watch=parent';import { Mermaid } from '@ant-design/x';\nimport { Button, Space } from 'antd';\nimport React from 'react';\n\nconst App: React.FC = () => {\n  const header = (\n    <div\n      style={{\n        padding: '12px 16px',\n        border: '1px solid #f0f0f0',\n        borderBottom: 'none',\n        borderRadius: '8px 8px 0 0',\n        backgroundColor: '#fafafa',\n      }}\n    >\n      <Space size=\"middle\">\n        <span style={{ fontWeight: 500, color: '#1a1a1a' }}>Login Flow</span>\n        <Button type=\"primary\" size=\"small\">\n          Export\n        </Button>\n        <Button size=\"small\">Reset</Button>\n      </Space>\n    </div>\n  );\n  return (\n    <div style={{ padding: 24 }}>\n      <Mermaid header={header}>\n        {`flowchart LR\n    A[User Login] --> B{Validate}\n    B -->|Success| C[System Entry]\n    B -->|Failed| D[Error Message]\n    C --> E[Dashboard]\n    D --> A`}\n      </Mermaid>\n    </div>\n  );\n};\nexport default App;\n","import '/home/runner/work/x/x/packages/x/components/mermaid/demo/_semantic.tsx?watch=parent';import { Mermaid } from '@ant-design/x';\nimport React, { useState } from 'react';\nimport SemanticPreview from '../../../.dumi/components/SemanticPreview';\nimport useLocale from '../../../.dumi/hooks/useLocale';\n\nconst locales = {\n  cn: {\n    root: '根节点',\n    header: '头部的容器',\n    graph: '图片的容器',\n    code: '代码容器',\n  },\n  en: {\n    root: 'root',\n    header: 'Wrapper element of the header',\n    graph: 'Wrapper element of the graph',\n    code: 'Wrapper element of the code',\n  },\n};\n\nconst content = `graph TD\n    A[Start] --> B{Data Valid?}\n    B -->|Yes| C[Process Data]\n    B -->|No| D[Error Handling]\n    C --> E[Generate Report]\n    D --> E\n    E --> F[End]\n    style A fill:#2ecc71,stroke:#27ae60\n    style F fill:#e74c3c,stroke:#c0392b`;\n\nconst App: React.FC = () => {\n  const [locale] = useLocale(locales);\n  const [renderType, setRenderType] = useState('image');\n\n  return (\n    <SemanticPreview\n      componentName=\"Mermaid\"\n      semantics={[\n        { name: 'root', desc: locale.root },\n        { name: 'header', desc: locale.header },\n        renderType === 'image'\n          ? { name: 'graph', desc: locale.graph }\n          : { name: 'code', desc: locale.code },\n      ]}\n    >\n      <Mermaid onRenderTypeChange={(value) => setRenderType(value)}>{content}</Mermaid>\n    </SemanticPreview>\n  );\n};\n\nexport default App;\n","import '/home/runner/work/x/x/packages/x/components/mermaid/demo/with-xmarkdown.tsx?watch=parent';import { Bubble, Mermaid } from '@ant-design/x';\nimport XMarkdown, { type ComponentProps } from '@ant-design/x-markdown';\nimport { Button, Flex } from 'antd';\nimport React from 'react';\n\nconst text = `\nHere are several Mermaid diagram examples \n\n#### 1. Flowchart (Vertical)\n\n\\`\\`\\` mermaid\ngraph TD\n    A[Start] --> B{Data Valid?}\n    B -->|Yes| C[Process Data]\n    B -->|No| D[Error Handling]\n    C --> E[Generate Report]\n    D --> E\n    E --> F[End]\n    style A fill:#2ecc71,stroke:#27ae60\n    style F fill:#e74c3c,stroke:#c0392b\n\\`\\`\\`\n\n#### 2. Sequence Diagram\n\n\\`\\`\\` mermaid\nsequenceDiagram\n    participant Client\n    participant Server\n    participant Database\n    \n    Client->>Server: POST /api/data\n    Server->>Database: INSERT record\n    Database-->>Server: Success\n    Server-->>Client: 201 Created\n\\`\\`\\`\n\n#### 3. Quadrant Chart\n\n\\`\\`\\`mermaid\nquadrantChart\n    title Reach and engagement of campaigns\n    x-axis Low Reach --> High Reach\n    y-axis Low Engagement --> High Engagement\n    quadrant-1 We should expand\n    quadrant-2 Need to promote\n    quadrant-3 Re-evaluate\n    quadrant-4 May be improved\n    Campaign A: [0.3, 0.6]\n    Campaign B: [0.45, 0.23]\n    Campaign C: [0.57, 0.69]\n    Campaign D: [0.78, 0.34]\n    Campaign E: [0.40, 0.34]\n    Campaign F: [0.35, 0.78]\n\\`\\`\\`\n`;\n\nconst Code: React.FC<ComponentProps> = (props) => {\n  const { className, children } = props;\n  const lang = className?.match(/language-(\\w+)/)?.[1] || '';\n\n  if (typeof children !== 'string') return null;\n  if (lang === 'mermaid') {\n    return <Mermaid>{children}</Mermaid>;\n  }\n  return <code>{children}</code>;\n};\n\nconst App = () => {\n  const [index, setIndex] = React.useState(0);\n  const timer = React.useRef<NodeJS.Timeout | null>(null);\n  const contentRef = React.useRef<HTMLDivElement>(null);\n\n  React.useEffect(() => {\n    if (index >= text.length) return;\n\n    timer.current = setTimeout(() => {\n      setIndex(Math.min(index + 5, text.length));\n    }, 20);\n\n    return () => {\n      if (timer.current) {\n        clearTimeout(timer.current);\n        timer.current = null;\n      }\n    };\n  }, [index]);\n\n  React.useEffect(() => {\n    if (contentRef.current && index > 0 && index < text.length) {\n      const { scrollHeight, clientHeight } = contentRef.current;\n      if (scrollHeight > clientHeight) {\n        contentRef.current.scrollTo({\n          top: scrollHeight,\n          behavior: 'smooth',\n        });\n      }\n    }\n  }, [index]);\n\n  return (\n    <Flex vertical gap=\"small\" style={{ height: 600, overflow: 'auto' }} ref={contentRef}>\n      <Flex justify=\"flex-end\">\n        <Button onClick={() => setIndex(0)}>Re-Render</Button>\n      </Flex>\n\n      <Bubble\n        content={text.slice(0, index)}\n        styles={{\n          content: {\n            width: 700,\n          },\n        }}\n        contentRender={(content) => (\n          <XMarkdown components={{ code: Code }} paragraphTag=\"div\">\n            {content}\n          </XMarkdown>\n        )}\n        variant=\"outlined\"\n      />\n    </Flex>\n  );\n};\n\nexport default App;\n","import '/home/runner/work/x/x/packages/x/components/mermaid/demo/header-actions.tsx?watch=parent';import { EditOutlined, ShareAltOutlined } from '@ant-design/icons';\nimport { Mermaid } from '@ant-design/x';\nimport { Checkbox, message, Space } from 'antd';\nimport React, { useState } from 'react';\n\nconst App: React.FC = () => {\n  const [enableZoom, setEnableZoom] = useState(true);\n  const [enableDownload, setEnableDownload] = useState(true);\n  const [enableCopy, setEnableCopy] = useState(true);\n  const [showCustom, setShowCustom] = useState(false);\n\n  const customActions = [\n    {\n      key: 'edit',\n      icon: <EditOutlined />,\n      label: 'Edit',\n      onItemClick: () => {\n        message.info('Edit button clicked');\n      },\n    },\n    {\n      key: 'share',\n      icon: <ShareAltOutlined />,\n      label: 'Share',\n      onItemClick: () => {\n        message.success('Chart link copied to clipboard');\n      },\n    },\n  ];\n\n  const actions = {\n    enableZoom,\n    enableDownload,\n    enableCopy,\n    ...(showCustom && { customActions }),\n  };\n\n  return (\n    <div style={{ padding: 24, maxWidth: 800, margin: '0 auto' }}>\n      <div style={{ marginBottom: 24 }}>\n        <h2 style={{ marginBottom: 16, color: '#1a1a1a' }}>Header Actions Configuration</h2>\n        <Space size=\"large\" wrap>\n          <Checkbox checked={enableZoom} onChange={(e) => setEnableZoom(e.target.checked)}>\n            Enable Zoom\n          </Checkbox>\n          <Checkbox checked={enableDownload} onChange={(e) => setEnableDownload(e.target.checked)}>\n            Enable Download\n          </Checkbox>\n          <Checkbox checked={enableCopy} onChange={(e) => setEnableCopy(e.target.checked)}>\n            Enable Copy\n          </Checkbox>\n          <Checkbox checked={showCustom} onChange={(e) => setShowCustom(e.target.checked)}>\n            Show Custom Actions\n          </Checkbox>\n        </Space>\n      </div>\n\n      <div style={{ border: '1px solid #f0f0f0', borderRadius: 8, overflow: 'hidden' }}>\n        <Mermaid actions={actions}>\n          {`flowchart TD\n    A[Start] --> B{Decision Point}\n    B -->|Yes| C[Process Data]\n    B -->|No| D[Skip Processing]\n    C --> E[Generate Report]\n    D --> E\n    E --> F[End]`}\n        </Mermaid>\n      </div>\n    </div>\n  );\n};\n\nexport default App;\n"],"names":[],"mappings":"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"}