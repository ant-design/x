(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_@ant-design/x"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_@ant-design/x"]||[]).push([["2de7a0e8"],{"2de7a0e8":function(e,n,t){"use strict";t.d(n,"__esModule",{value:!0}),t.d(n,"default",{enumerable:!0,get:function(){return l;}});var a=t("777fffbe"),s=t("8090cfc0"),r=t("64d8f06c"),o=a._(t("f93d4721")),i=t("3e6b097d"),l=function(){return(0,s.jsx)(r.DumiPage,{children:(0,s.jsx)(i.Suspense,{fallback:(0,s.jsx)(o.default,{}),children:(0,s.jsx)(s.Fragment,{children:(0,s.jsx)(r.DumiDemo,{demo:{id:"docs-x-markdown-playground-demo-playground"},previewerProps:{title:"XMarkdown Playground",filename:"docs/x-markdown/playground.tsx",pkgDependencyList:{"@antv/gpt-vis":"^0.5.10","@antv/infographic":"0.2.7","@blazediff/core":"^1.8.0","@codesandbox/sandpack-react":"^2.19.8","@emotion/react":"^11.13.5","@emotion/server":"^11.11.0","@happy-dom/jest-environment":"^20.0.11","@ianvs/prettier-plugin-sort-imports":"^4.3.1","@microflash/rehype-figure":"^2.1.1","@npmcli/run-script":"^10.0.3","@octokit/rest":"^21.0.2","@prettier/sync":"^0.6.1","@qixian.cs/github-contributors-list":"^2.0.2","@rc-component/drawer":"^1.3.0","@rc-component/father-plugin":"^2.0.4","@rc-component/np":"^1.0.3","@rc-component/table":"^1.9.0","@rc-component/trigger":"^3.7.1","@rc-component/virtual-list":"^1.0.2","@stackblitz/sdk":"^1.11.0","@testing-library/dom":"^10.4.0","@testing-library/jest-dom":"^6.5.0","@testing-library/user-event":"^14.5.2","@types/adm-zip":"^0.5.5","@types/ali-oss":"^6.16.11","@types/cli-progress":"^3.11.6","@types/fs-extra":"^11.0.4","@types/gtag.js":"^0.0.20","@types/http-server":"^0.12.4","@types/inquirer":"^9.0.7","@types/isomorphic-fetch":"^0.0.39","@types/jest":"^30.0.0","@types/jest-axe":"^3.5.9","@types/jest-environment-puppeteer":"^5.0.6","@types/jest-image-snapshot":"^6.4.0","@types/jquery":"^3.5.30","@types/jsdom":"^27.0.0","@types/lodash":"^4.17.7","@types/minimist":"^1.2.5","@types/node":"^24.0.3","@types/ora":"^3.2.0","@types/pngjs":"^6.0.5","@types/prismjs":"^1.26.4","@types/progress":"^2.0.7","@types/qs":"^6.9.16","@types/react":"^19.0.2","@types/react-copy-to-clipboard":"^5.0.7","@types/react-dom":"^19.0.2","@types/react-highlight-words":"^0.20.0","@types/react-resizable":"^3.0.8","@types/semver":"^7.5.8","@types/spinnies":"^0.5.3","@types/tar":"^6.1.13","@types/throttle-debounce":"^5.0.2","@types/warning":"^3.0.3","@umijs/fabric":"^4.0.1","adm-zip":"^0.5.16","ali-oss":"^6.21.0",antd:"^6.1.1","antd-style":"^4.0.0-alpha.1","antd-token-previewer":"^3.0.0",axios:"^1.7.7",browserslist:"^4.23.3","browserslist-to-esbuild":"^2.1.1",chalk:"^5.4.1",cheerio:"^1.0.0","cli-progress":"^3.12.0","copy-to-clipboard":"^3.3.3","cross-env":"^7.0.3","cross-fetch":"^4.0.0",crypto:"^1.0.1",dayjs:"^1.11.13",dumi:"~2.4.21","dumi-plugin-color-chunk":"^2.1.0","esbuild-loader":"^4.2.2","fast-glob":"^3.3.2","fetch-jsonp":"^1.3.0","fs-extra":"^11.2.0","happy-dom":"^20.0.10",html2sketch:"^1.0.2","http-server":"^14.1.1","identity-obj-proxy":"^3.0.0",immer:"^10.1.1",inquirer:"^13.1.0","is-ci":"^4.1.0","isomorphic-fetch":"^3.0.0",jest:"^30.2.0","jest-axe":"^10.0.0","jest-canvas-mock":"^2.5.2","jest-environment-node":"^30.0.0","jest-image-snapshot":"^6.5.1","jest-puppeteer":"^11.0.0",jquery:"^3.7.1",jsdom:"^26.0.0","jsonml-to-react-element":"^1.1.11","jsonml.js":"^0.1.0",lodash:"^4.17.21","lottie-web":"^5.12.2","lunar-typescript":"^1.7.5","lz-string":"^1.5.0",minimist:"^1.2.8",mockdate:"^3.0.5","node-fetch":"^3.3.2","node-notifier":"^10.0.1",open:"^11.0.0",openai:"^6.15.0",ora:"^8.1.0",pngjs:"^7.0.0","prettier-plugin-jsdoc":"^1.3.0","pretty-format":"^30.0.0",prismjs:"^1.29.0",puppeteer:"^24.0.0",qs:"^6.13.0","rc-footer":"^0.6.8",react:"^19.0.0","react-copy-to-clipboard":"^5.1.0","react-dom":"^19.0.0","react-highlight-words":"^0.20.0","react-infinite-scroll-component":"^6.1.0","react-intersection-observer":"^10.0.0","react-intl":"^7.1.11","react-resizable":"^3.0.5","react-router-dom":"^7.0.1","react-sticky-box":"^2.0.5","regenerator-runtime":"^0.14.1","rehype-stringify":"^10.0.0",remark:"^15.0.1","remark-cli":"^12.0.1","remark-gfm":"^4.0.0","remark-lint":"^10.0.0","remark-lint-no-undefined-references":"^5.0.0","remark-preset-lint-recommended":"^7.0.0","remark-rehype":"^11.1.0","scroll-into-view-if-needed":"^3.1.0",semver:"^7.6.3",sharp:"^0.34.5","simple-git":"^3.26.0",spinnies:"^0.5.1",tar:"^7.4.3","tbox-nodejs-sdk":"^0.0.13",tsx:"^4.19.1",typedoc:"^0.28.0",typescript:"~5.9.3","vanilla-jsoneditor":"^3.0.0","web-streams-polyfill":"^4.0.0",webpack:"^5.94.0","webpack-bundle-analyzer":"^5.0.1","@ant-design/colors":"^8.0.0","@ant-design/cssinjs":"^2.0.1","@ant-design/cssinjs-utils":"^2.0.2","@ant-design/fast-color":"^3.0.0","@ant-design/icons":"^6.0.0","@babel/runtime":"^7.25.6",clsx:"^2.1.1","lodash.throttle":"^4.1.1","@rc-component/motion":"^1.1.6","@rc-component/util":"^1.4.0","@rc-component/resize-observer":"^1.0.1","react-syntax-highlighter":"^16.1.0",mermaid:"^11.12.1"},pkgPeerDependencies:{antd:"^6.1.1",react:">=18.0.0","react-dom":">=18.0.0"},jsx:"import XMarkdown from '@ant-design/x-markdown';\nimport { Button, Card, Flex, Input, Segmented, Space, Switch, theme, Typography } from 'antd';\nimport React from 'react';\nimport '@ant-design/x-markdown/themes/light.css';\nimport '@ant-design/x-markdown/themes/dark.css';\nconst { Text } = Typography;\nconst { TextArea } = Input;\nconst DEFAULT_SOURCE = `# XMarkdown Playground\n\nType Markdown in the editor and see real-time rendering.\n\n## Features\n\n- CommonMark and GFM\n- Streaming-friendly rendering\n- Safe HTML handling with configurable escaping\n\n\\`\\`\\`tsx\nconst message = 'Hello, XMarkdown';\nconsole.log(message);\n\\`\\`\\`\n\n## Streaming Preview\n\n1. Click \"Run Stream\"\n2. Observe incomplete syntax handling\n3. Continue typing in the editor for instant full preview\n\n| Step | Status |\n| --- | --- |\n| Parse | Done |\n| Render | Running |\n\n[Link example](https://x.ant.design/x-markdowns/introduce)\n\n## HTML and Security\n<div style=\"padding: 8px; border: 1px solid #aaa;\">\n  Inline raw HTML block\n</div>\n\nTry toggling \\`escapeRawHtml\\` to compare behavior.\n`;\nconst getDataRaw = rest => {\n  if (!rest || typeof rest !== 'object') {\n    return '';\n  }\n  return typeof rest['data-raw'] === 'string' ? rest['data-raw'] : '';\n};\nconst IncompleteLoadingComponents = {\n  'loading-link': ({ rest }) => {\n    const raw = getDataRaw(rest);\n    return <span style={{ opacity: 0.6, borderBottom: '1px dashed #999' }}>{raw || '...'}</span>;\n  },\n  'loading-image': () => (\n    <span style={{ opacity: 0.6, display: 'inline-block', width: 96, height: 24 }}>\n      Loading image...\n    </span>\n  ),\n  'loading-table': () => (\n    <span style={{ opacity: 0.6, display: 'inline-block', width: 96, height: 24 }}>\n      Loading table...\n    </span>\n  ),\n  'loading-html': ({ rest }) => {\n    const raw = getDataRaw(rest);\n    return <span style={{ opacity: 0.6 }}>{raw || '<html />'}</span>;\n  },\n};\nconst ToggleItem = ({ label, checked, onChange }) => (\n  <Space\n    style={{\n      display: 'flex',\n      alignItems: 'center',\n      gap: 6,\n      padding: '2px 0',\n      minHeight: 32,\n      lineHeight: 1,\n    }}\n  >\n    <Text style={{ fontSize: 12, margin: 0, whiteSpace: 'nowrap' }}>{label}</Text>\n    <Switch size=\"small\" checked={checked} onChange={onChange} />\n  </Space>\n);\nconst Playground = () => {\n  const [source, setSource] = React.useState(DEFAULT_SOURCE);\n  const [cursor, setCursor] = React.useState(source.length);\n  const [isStreaming, setIsStreaming] = React.useState(false);\n  const [enableAnimation, setEnableAnimation] = React.useState(true);\n  const [escapeRawHtml, setEscapeRawHtml] = React.useState(false);\n  const [openLinksInNewTab, setOpenLinksInNewTab] = React.useState(true);\n  const [protectCustomTagNewlines, setProtectCustomTagNewlines] = React.useState(false);\n  const [themeMode, setThemeMode] = React.useState('light');\n  const timerRef = React.useRef(null);\n  const { token } = theme.useToken();\n  const markdownClassName = themeMode === 'light' ? 'x-markdown-light' : 'x-markdown-dark';\n  const isDarkMode = themeMode === 'dark';\n  const viewportHeight = 'clamp(440px, 68vh, 760px)';\n  const clearTimer = React.useCallback(() => {\n    if (timerRef.current !== null) {\n      window.clearTimeout(timerRef.current);\n      timerRef.current = null;\n    }\n  }, []);\n  React.useEffect(() => {\n    return clearTimer;\n  }, [clearTimer]);\n  React.useEffect(() => {\n    clearTimer();\n    setCursor(source.length);\n  }, [source, clearTimer]);\n  React.useEffect(() => {\n    if (!isStreaming) {\n      return;\n    }\n    if (cursor >= source.length) {\n      setIsStreaming(false);\n      return;\n    }\n    timerRef.current = window.setTimeout(() => {\n      setCursor(prev => Math.min(source.length, prev + 6));\n    }, 45);\n  }, [isStreaming, cursor, source.length]);\n  const runStream = () => {\n    clearTimer();\n    setCursor(0);\n    setIsStreaming(true);\n  };\n  const previewContent = isStreaming ? source.slice(0, cursor) : source;\n  const hasNextChunk = isStreaming && cursor < source.length;\n  return (\n    <div style={{ padding: token.padding, maxWidth: 1400, margin: '0 auto' }}>\n      <Flex vertical gap={14}>\n        <Card\n          size=\"small\"\n          title=\"Control Panel\"\n          style={{\n            borderRadius: token.borderRadiusLG,\n            borderColor: token.colorBorderSecondary,\n          }}\n          bodyStyle={{ padding: 12 }}\n        >\n          <Flex gap={10} align=\"center\" justify=\"space-between\" wrap>\n            <Space size={8} wrap>\n              <Segmented\n                size=\"small\"\n                value={themeMode}\n                onChange={value => setThemeMode(value)}\n                options={[\n                  { label: 'Light', value: 'light' },\n                  { label: 'Dark', value: 'dark' },\n                ]}\n              />\n              <ToggleItem\n                label=\"Animation\"\n                checked={enableAnimation}\n                onChange={setEnableAnimation}\n              />\n              <ToggleItem\n                label=\"Escape Raw HTML\"\n                checked={escapeRawHtml}\n                onChange={setEscapeRawHtml}\n              />\n              <ToggleItem\n                label=\"Open Links In New Tab\"\n                checked={openLinksInNewTab}\n                onChange={setOpenLinksInNewTab}\n              />\n              <ToggleItem\n                label=\"Protect Custom Tag Newlines\"\n                checked={protectCustomTagNewlines}\n                onChange={setProtectCustomTagNewlines}\n              />\n            </Space>\n\n            <Button type=\"primary\" size=\"small\" onClick={runStream} disabled={source.length === 0}>\n              Run Stream\n            </Button>\n          </Flex>\n        </Card>\n\n        <Flex gap={12} wrap>\n          <Card title=\"Markdown Input\" style={{ flex: '1 1 420px', minWidth: 320 }}>\n            <TextArea\n              value={source}\n              onChange={event => setSource(event.target.value)}\n              spellCheck={false}\n              bordered={false}\n              style={{\n                padding: 12,\n                height: viewportHeight,\n                resize: 'none',\n                overflowY: 'auto',\n                fontFamily: 'Menlo, Monaco, Consolas, monospace',\n              }}\n            />\n          </Card>\n\n          <Card\n            title=\"Preview\"\n            style={{ flex: '1 1 420px', minWidth: 320 }}\n            styles={{ body: { padding: 1 } }}\n          >\n            <div\n              style={{\n                background: isDarkMode ? '#141414' : token.colorBgContainer,\n                height: viewportHeight,\n                display: 'flex',\n                flexDirection: 'column',\n              }}\n            >\n              <div\n                className={markdownClassName}\n                style={{ padding: 12, flex: 1, overflowY: 'auto' }}\n              >\n                <XMarkdown\n                  content={previewContent}\n                  className={markdownClassName}\n                  escapeRawHtml={escapeRawHtml}\n                  openLinksInNewTab={openLinksInNewTab}\n                  protectCustomTagNewlines={protectCustomTagNewlines}\n                  streaming={{\n                    hasNextChunk,\n                    enableAnimation,\n                    incompleteMarkdownComponentMap: {\n                      link: 'loading-link',\n                      image: 'loading-image',\n                      table: 'loading-table',\n                      html: 'loading-html',\n                    },\n                  }}\n                  components={IncompleteLoadingComponents}\n                />\n              </div>\n            </div>\n          </Card>\n        </Flex>\n      </Flex>\n    </div>\n  );\n};\nexport default Playground;\n"}})})})});};},"782f0f02":function(e,n,t){"use strict";t.d(n,"__esModule",{value:!0}),t.d(n,"texts",{enumerable:!0,get:function(){return a;}}),t("3ee8e2b9");let a=[];}}]);
//# sourceMappingURL=2de7a0e8-async.5abc7258.js.map