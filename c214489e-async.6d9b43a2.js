(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_@ant-design/x"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_@ant-design/x"]||[]).push([["c214489e"],{c214489e:function(a,e,d){"use strict";d.d(e,"__esModule",{value:!0}),d.d(e,"texts",{enumerable:!0,get:function(){return t;}}),d("467682f3");let t=[{value:"\u5411\u540E\u7AEF\u670D\u52A1\u63A5\u53E3\u53D1\u8D77\u8BF7\u6C42\uFF0C\u83B7\u53D6\u54CD\u5E94\u6570\u636E\u3002\u5982\u679C\u662FOpenAI Compatible\u7684LLM\u670D\u52A1\uFF0C\u5EFA\u8BAE\u4F7F\u7528XModelAPI\u3002",paraId:0,tocIndex:0},{value:"type XRequestFunction<Input = Record<PropertyKey, any>, Output = Record<string, string>> = (\n  baseURL: string,\n  options: XRequestOptions<Input, Output>,\n) => XRequestClass<Input, Output>;\n",paraId:1,tocIndex:10},{value:"\u5C5E\u6027",paraId:2,tocIndex:11},{value:"\u63CF\u8FF0",paraId:2,tocIndex:11},{value:"\u7C7B\u578B",paraId:2,tocIndex:11},{value:"\u9ED8\u8BA4\u503C",paraId:2,tocIndex:11},{value:"\u7248\u672C",paraId:2,tocIndex:11},{value:"baseURL",paraId:2,tocIndex:11},{value:"\u8BF7\u6C42\u63A5\u53E3\u5730\u5740",paraId:2,tocIndex:11},{value:"string",paraId:2,tocIndex:11},{value:"-",paraId:2,tocIndex:11},{value:"-",paraId:2,tocIndex:11},{value:"options",paraId:2,tocIndex:11},{value:"XRequestOptions<Input, Output>",paraId:2,tocIndex:11},{value:"-",paraId:2,tocIndex:11},{value:"-",paraId:2,tocIndex:11},{value:"\u5C5E\u6027",paraId:3,tocIndex:12},{value:"\u63CF\u8FF0",paraId:3,tocIndex:12},{value:"\u7C7B\u578B",paraId:3,tocIndex:12},{value:"\u9ED8\u8BA4\u503C",paraId:3,tocIndex:12},{value:"\u7248\u672C",paraId:3,tocIndex:12},{value:"callbacks",paraId:3,tocIndex:12},{value:"\u8BF7\u6C42\u56DE\u8C03\u5904\u7406\u96C6",paraId:3,tocIndex:12},{value:"XRequestCallbacks<Output>",paraId:3,tocIndex:12},{value:"-",paraId:3,tocIndex:12},{value:"-",paraId:3,tocIndex:12},{value:"params",paraId:3,tocIndex:12},{value:"\u8BF7\u6C42\u7684\u53C2\u6570",paraId:3,tocIndex:12},{value:"Input",paraId:3,tocIndex:12},{value:"-",paraId:3,tocIndex:12},{value:"-",paraId:3,tocIndex:12},{value:"headers",paraId:3,tocIndex:12},{value:"\u989D\u5916\u7684\u8BF7\u6C42\u5934\u914D\u7F6E",paraId:3,tocIndex:12},{value:"Record<string, string>",paraId:3,tocIndex:12},{value:"-",paraId:3,tocIndex:12},{value:"-",paraId:3,tocIndex:12},{value:"timeout",paraId:3,tocIndex:12},{value:"\u8BF7\u6C42\u8D85\u65F6\u914D\u7F6E (\u4ECE\u53D1\u9001\u8BF7\u6C42\u5230\u8FDE\u63A5\u4E0A\u670D\u52A1\u7684\u65F6\u95F4)\uFF0C\u5355\u4F4D:ms",paraId:3,tocIndex:12},{value:"number",paraId:3,tocIndex:12},{value:"-",paraId:3,tocIndex:12},{value:"-",paraId:3,tocIndex:12},{value:"streamTimeout",paraId:3,tocIndex:12},{value:"stream \u6A21\u5F0F\u7684\u6570\u636E\u8D85\u65F6\u914D\u7F6E \uFF08\u6BCF\u6B21 chunk \u8FD4\u56DE\u7684\u65F6\u95F4\u95F4\u9694\uFF09\uFF0C\u5355\u4F4D:ms",paraId:3,tocIndex:12},{value:"number",paraId:3,tocIndex:12},{value:"-",paraId:3,tocIndex:12},{value:"-",paraId:3,tocIndex:12},{value:"fetch",paraId:3,tocIndex:12},{value:"\u81EA\u5B9A\u4E49fetch\u5BF9\u8C61",paraId:3,tocIndex:12},{value:"typeof fetch",paraId:3,tocIndex:12},{value:"-",paraId:3,tocIndex:12},{value:"-",paraId:3,tocIndex:12},{value:"middlewares",paraId:3,tocIndex:12},{value:"\u4E2D\u95F4\u4EF6\uFF0C\u652F\u6301\u8BF7\u6C42\u524D\u548C\u8BF7\u6C42\u540E\u5904\u7406",paraId:3,tocIndex:12},{value:"XFetchMiddlewares",paraId:3,tocIndex:12},{value:"-",paraId:3,tocIndex:12},{value:"-",paraId:3,tocIndex:12},{value:"transformStream",paraId:3,tocIndex:12},{value:"stream\u5904\u7406\u5668",paraId:3,tocIndex:12},{value:"XStreamOptions<Output>['transformStream'] | ((baseURL: string, responseHeaders: Headers) => XStreamOptions<Output>['transformStream'])",paraId:3,tocIndex:12},{value:"-",paraId:3,tocIndex:12},{value:"-",paraId:3,tocIndex:12},{value:"streamSeparator",paraId:3,tocIndex:12},{value:"\u6D41\u5206\u9694\u7B26\uFF0C\u7528\u4E8E\u5206\u9694\u4E0D\u540C\u7684\u6570\u636E\u6D41\uFF0CtransformStream \u6709\u503C\u65F6\u4E0D\u751F\u6548",paraId:3,tocIndex:12},{value:"string",paraId:3,tocIndex:12},{value:"\\n\\n",paraId:3,tocIndex:12},{value:"2.2.0",paraId:3,tocIndex:12},{value:"partSeparator",paraId:3,tocIndex:12},{value:"\u90E8\u5206\u5206\u9694\u7B26\uFF0C\u7528\u4E8E\u5206\u9694\u6570\u636E\u7684\u4E0D\u540C\u90E8\u5206\uFF0CtransformStream \u6709\u503C\u65F6\u4E0D\u751F\u6548",paraId:3,tocIndex:12},{value:"string",paraId:3,tocIndex:12},{value:"\\n",paraId:3,tocIndex:12},{value:"2.2.0",paraId:3,tocIndex:12},{value:"kvSeparator",paraId:3,tocIndex:12},{value:"\u952E\u503C\u5206\u9694\u7B26\uFF0C\u7528\u4E8E\u5206\u9694\u952E\u548C\u503C\uFF0CtransformStream \u6709\u503C\u65F6\u4E0D\u751F\u6548",paraId:3,tocIndex:12},{value:"string",paraId:3,tocIndex:12},{value:":",paraId:3,tocIndex:12},{value:"2.2.0",paraId:3,tocIndex:12},{value:"manual",paraId:3,tocIndex:12},{value:"\u662F\u5426\u624B\u52A8\u63A7\u5236\u53D1\u51FA\u8BF7\u6C42\uFF0C\u4E3A",paraId:3,tocIndex:12},{value:"true",paraId:3,tocIndex:12},{value:"\u65F6\uFF0C\u9700\u8981\u624B\u52A8\u8C03\u7528",paraId:3,tocIndex:12},{value:"run",paraId:3,tocIndex:12},{value:"\u65B9\u6CD5",paraId:3,tocIndex:12},{value:"boolean",paraId:3,tocIndex:12},{value:"false",paraId:3,tocIndex:12},{value:"-",paraId:3,tocIndex:12},{value:"retryInterval",paraId:3,tocIndex:12},{value:"\u8BF7\u6C42\u4E2D\u65AD\u6216\u8005\u5931\u8D25\u65F6\uFF0C\u91CD\u8BD5\u7684\u95F4\u9694\u65F6\u95F4\uFF0C\u5355\u4F4Dms\uFF0C\u4E0D\u8BBE\u7F6E\u5C06\u4E0D\u4F1A\u81EA\u52A8\u91CD\u8BD5",paraId:3,tocIndex:12},{value:"number",paraId:3,tocIndex:12},{value:"-",paraId:3,tocIndex:12},{value:"-",paraId:3,tocIndex:12},{value:"retryTimes",paraId:3,tocIndex:12},{value:"\u91CD\u8BD5\u7684\u6B21\u6570\u9650\u5236\uFF0C\u8D85\u8FC7\u6B21\u6570\u540E\u4E0D\u5728\u8FDB\u884C\u91CD\u8BD5",paraId:3,tocIndex:12},{value:"number",paraId:3,tocIndex:12},{value:"-",paraId:3,tocIndex:12},{value:"-",paraId:3,tocIndex:12},{value:"\u5C5E\u6027",paraId:4,tocIndex:13},{value:"\u63CF\u8FF0",paraId:4,tocIndex:13},{value:"\u7C7B\u578B",paraId:4,tocIndex:13},{value:"\u9ED8\u8BA4\u503C",paraId:4,tocIndex:13},{value:"\u7248\u672C",paraId:4,tocIndex:13},{value:"onSuccess",paraId:4,tocIndex:13},{value:"\u6210\u529F\u65F6\u7684\u56DE\u8C03\uFF0C\u5F53\u4E0E Chat Provider \u4E00\u8D77\u4F7F\u7528\u65F6\u4F1A\u989D\u5916\u83B7\u53D6\u5230\u7EC4\u88C5\u597D\u7684 message",paraId:4,tocIndex:13},{value:"(chunks: Output[], responseHeaders: Headers, message: ChatMessage) => void",paraId:4,tocIndex:13},{value:"-",paraId:4,tocIndex:13},{value:"-",paraId:4,tocIndex:13},{value:"onError",paraId:4,tocIndex:13},{value:"\u9519\u8BEF\u5904\u7406\u7684\u56DE\u8C03\uFF0C",paraId:4,tocIndex:13},{value:"onError",paraId:4,tocIndex:13},{value:" \u53EF\u4EE5\u8FD4\u56DE\u4E00\u4E2A\u6570\u5B57\uFF0C\u8868\u793A\u8BF7\u6C42\u5F02\u5E38\u65F6\u8FDB\u884C\u81EA\u52A8\u91CD\u8BD5\u7684\u95F4\u9694(\u5355\u4F4Dms)\uFF0C",paraId:4,tocIndex:13},{value:"options.retryInterval",paraId:4,tocIndex:13},{value:" \u540C\u65F6\u5B58\u5728\u65F6\uFF0C",paraId:4,tocIndex:13},{value:"onError",paraId:4,tocIndex:13},{value:"\u8FD4\u56DE\u503C\u4F18\u5148\u7EA7\u66F4\u9AD8, \u5F53\u4E0E Chat Provider \u4E00\u8D77\u4F7F\u7528\u65F6\u4F1A\u989D\u5916\u83B7\u53D6\u5230\u7EC4\u88C5\u597D\u7684 fail back message",paraId:4,tocIndex:13},{value:"(error: Error, errorInfo: any,responseHeaders?: Headers, message: ChatMessage) => number | void",paraId:4,tocIndex:13},{value:"-",paraId:4,tocIndex:13},{value:"-",paraId:4,tocIndex:13},{value:"onUpdate",paraId:4,tocIndex:13},{value:"\u6D88\u606F\u66F4\u65B0\u7684\u56DE\u8C03\uFF0C\u5F53\u4E0E Chat Provider \u4E00\u8D77\u4F7F\u7528\u65F6\u4F1A\u989D\u5916\u83B7\u53D6\u5230\u7EC4\u88C5\u597D\u7684 message",paraId:4,tocIndex:13},{value:"(chunk: Output,responseHeaders: Headers, message: ChatMessage) => void",paraId:4,tocIndex:13},{value:"-",paraId:4,tocIndex:13},{value:"-",paraId:4,tocIndex:13},{value:"\u5C5E\u6027",paraId:5,tocIndex:14},{value:"\u63CF\u8FF0",paraId:5,tocIndex:14},{value:"\u7C7B\u578B",paraId:5,tocIndex:14},{value:"\u9ED8\u8BA4\u503C",paraId:5,tocIndex:14},{value:"\u7248\u672C",paraId:5,tocIndex:14},{value:"abort",paraId:5,tocIndex:14},{value:"\u53D6\u6D88\u8BF7\u6C42",paraId:5,tocIndex:14},{value:"() => void",paraId:5,tocIndex:14},{value:"-",paraId:5,tocIndex:14},{value:"-",paraId:5,tocIndex:14},{value:"run",paraId:5,tocIndex:14},{value:"\u624B\u52A8\u6267\u884C\u8BF7\u6C42\uFF0C\u5F53",paraId:5,tocIndex:14},{value:"manual=true",paraId:5,tocIndex:14},{value:"\u65F6\u6709\u6548",paraId:5,tocIndex:14},{value:"(params?: Input) => void",paraId:5,tocIndex:14},{value:"-",paraId:5,tocIndex:14},{value:"-",paraId:5,tocIndex:14},{value:"isRequesting",paraId:5,tocIndex:14},{value:"\u5F53\u524D\u662F\u5426\u5728\u8BF7\u6C42\u4E2D",paraId:5,tocIndex:14},{value:"boolean",paraId:5,tocIndex:14},{value:"-",paraId:5,tocIndex:14},{value:"-",paraId:5,tocIndex:14},{value:"type setXRequestGlobalOptions<Input, Output> = (\n  options: XRequestGlobalOptions<Input, Output>,\n) => void;\n",paraId:6,tocIndex:15},{value:"type XRequestGlobalOptions<Input, Output> = Pick<\n  XRequestOptions<Input, Output>,\n  'headers' | 'timeout' | 'streamTimeout' | 'middlewares' | 'fetch' | 'transformStream' | 'manual'\n>;\n",paraId:7,tocIndex:16},{value:"interface XFetchMiddlewares {\n  onRequest?: (...ags: Parameters<typeof fetch>) => Promise<Parameters<typeof fetch>>;\n  onResponse?: (response: Response) => Promise<Response>;\n}\n",paraId:8,tocIndex:17},{value:"onError TypeError: Failed to execute 'getReader' on 'ReadableStream': ReadableStreamDefaultReader constructor can only accept readable streams that are not yet locked to a reader\n",paraId:9,tocIndex:19},{value:"Web Streams API \u89C4\u5B9A\uFF0C\u4E00\u4E2A\u6D41\u5728\u540C\u4E00\u65F6\u95F4\u53EA\u80FD\u88AB\u4E00\u4E2A reader \u9501\u5B9A\u3002\u590D\u7528\u4F1A\u62A5\u9519, \u6240\u4EE5\u5728\u4F7F\u7528 TransformStream \u7684\u65F6\u5019\uFF0C\u9700\u8981\u6CE8\u610F\u4EE5\u4E0B\u51E0\u70B9\uFF1A",paraId:10,tocIndex:19},{value:"\u786E\u4FDD transformStream \u51FD\u6570\u8FD4\u56DE\u7684\u662F\u4E00\u4E2A\u65B0\u7684 ReadableStream \u5BF9\u8C61\uFF0C\u800C\u4E0D\u662F\u540C\u4E00\u4E2A\u5BF9\u8C61\u3002",paraId:11,tocIndex:19},{value:"\u786E\u4FDD transformStream \u51FD\u6570\u4E2D\u6CA1\u6709\u5BF9 response.body \u8FDB\u884C\u591A\u6B21\u8BFB\u53D6\u64CD\u4F5C\u3002",paraId:11,tocIndex:19},{value:"\u63A8\u8350\u5199\u6CD5",paraId:12,tocIndex:19},{value:"const [provider] = React.useState(\n  new CustomProvider({\n    request: XRequest(url, {\n      manual: true,\n      // \u63A8\u8350\u5199\u6CD5\uFF1AtransformStream \u7528\u51FD\u6570\u8FD4\u56DE\u65B0\u5B9E\u4F8B\n      transformStream: () =>\n        new TransformStream({\n          transform(chunk, controller) {\n            // \u4F60\u7684\u81EA\u5B9A\u4E49\u5904\u7406\u903B\u8F91\n            controller.enqueue({ data: chunk });\n          },\n        }),\n      // \u5176\u4ED6\u914D\u7F6E...\n    }),\n  }),\n);\n",paraId:13,tocIndex:19},{value:"const request = XRequest(url, {\n  manual: true,\n  transformStream: new TransformStream({ ... }), // \u4E0D\u8981\u6301\u4E45\u5316\u5728 Provider/useState\n});\n",paraId:14,tocIndex:19}];}}]);
//# sourceMappingURL=c214489e-async.6d9b43a2.js.map