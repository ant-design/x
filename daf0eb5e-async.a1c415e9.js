(("undefined"!=typeof globalThis?globalThis:self)["makoChunk_@ant-design/x"]=("undefined"!=typeof globalThis?globalThis:self)["makoChunk_@ant-design/x"]||[]).push([["daf0eb5e"],{"1fa125ff":function(e,n,t){"use strict";t.d(n,"__esModule",{value:!0}),t.d(n,"texts",{enumerable:!0,get:function(){return r;}}),t("2ee2adeb");let r=[{value:"\u5C06 SSE \u534F\u8BAE\u7684 ",paraId:0,tocIndex:0},{value:"ReadableStream",paraId:0,tocIndex:0},{value:" \u8F6C\u6362\u4E3A ",paraId:0,tocIndex:0},{value:"Record",paraId:0,tocIndex:0},{value:"\u5C06\u4EFB\u4F55\u534F\u8BAE\u7684 ",paraId:0,tocIndex:0},{value:"ReadableStream",paraId:0,tocIndex:0},{value:" \u89E3\u7801\u5E76\u8BFB\u53D6",paraId:0,tocIndex:0},{value:"\u5E38\u89C1\u7684 ",paraId:1,tocIndex:1},{value:"ReadableStream",paraId:1,tocIndex:1},{value:" \u5B9E\u4F8B\uFF0C\u5982 ",paraId:1,tocIndex:1},{value:"await fetch(...).body",paraId:1,tocIndex:1},{value:" \u4F7F\u7528\u793A\u4F8B:",paraId:1,tocIndex:1},{value:"import { XStream } from '@ant-design/x';\n\nasync function request() {\n  const response = await fetch();\n  // .....\n\n  for await (const chunk of XStream({\n    readableStream: response.body,\n  })) {\n    console.log(chunk);\n  }\n}\n",paraId:2,tocIndex:1},{value:"\u5C5E\u6027",paraId:3,tocIndex:6},{value:"\u8BF4\u660E",paraId:3,tocIndex:6},{value:"\u7C7B\u578B",paraId:3,tocIndex:6},{value:"\u9ED8\u8BA4\u503C",paraId:3,tocIndex:6},{value:"\u7248\u672C",paraId:3,tocIndex:6},{value:"readableStream",paraId:3,tocIndex:6},{value:"ReadableStream \u5B9E\u4F8B",paraId:3,tocIndex:6},{value:"ReadableStream<'Uint8Array'>",paraId:3,tocIndex:6},{value:"-",paraId:3,tocIndex:6},{value:"-",paraId:3,tocIndex:6},{value:"transformStream",paraId:3,tocIndex:6},{value:"\u81EA\u5B9A\u4E49\u7684 transformStream \u7528\u4E8E\u8F6C\u6362\u6D41\u7684\u5904\u7406",paraId:3,tocIndex:6},{value:"TransformStream<string, T>",paraId:3,tocIndex:6},{value:"sseTransformStream",paraId:3,tocIndex:6},{value:"-",paraId:3,tocIndex:6},{value:"streamSeparator",paraId:3,tocIndex:6},{value:"\u6D41\u5206\u9694\u7B26\uFF0C\u7528\u4E8E\u5206\u9694\u4E0D\u540C\u7684\u6570\u636E\u6D41\uFF0CtransformStream \u6709\u503C\u65F6\u4E0D\u751F\u6548",paraId:3,tocIndex:6},{value:"string",paraId:3,tocIndex:6},{value:"\\n\\n",paraId:3,tocIndex:6},{value:"2.2.0",paraId:3,tocIndex:6},{value:"partSeparator",paraId:3,tocIndex:6},{value:"\u90E8\u5206\u5206\u9694\u7B26\uFF0C\u7528\u4E8E\u5206\u9694\u6570\u636E\u7684\u4E0D\u540C\u90E8\u5206\uFF0CtransformStream \u6709\u503C\u65F6\u4E0D\u751F\u6548",paraId:3,tocIndex:6},{value:"string",paraId:3,tocIndex:6},{value:"\\n",paraId:3,tocIndex:6},{value:"2.2.0",paraId:3,tocIndex:6},{value:"kvSeparator",paraId:3,tocIndex:6},{value:"\u952E\u503C\u5206\u9694\u7B26\uFF0C\u7528\u4E8E\u5206\u9694\u952E\u548C\u503C\uFF0CtransformStream \u6709\u503C\u65F6\u4E0D\u751F\u6548",paraId:3,tocIndex:6},{value:"string",paraId:3,tocIndex:6},{value:":",paraId:3,tocIndex:6},{value:"2.2.0",paraId:3,tocIndex:6}];},daf0eb5e:function(e,n,t){"use strict";t.d(n,"__esModule",{value:!0}),t.d(n,"default",{enumerable:!0,get:function(){return m;}});var r=t("777fffbe"),a=t("8090cfc0"),s=r._(t("33c468da")),o=r._(t("a4c80678")),i=r._(t("fe717d6b")),l=r._(t("c8bb8589")),c=r._(t("f93d4721")),d=t("3e6b097d"),p=t("64d8f06c"),u=t("1fa125ff"),m=function(){return(0,a.jsx)(p.DumiPage,{children:(0,a.jsx)(d.Suspense,{fallback:(0,a.jsx)(c.default,{}),children:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"markdown",children:[(0,a.jsxs)("h2",{id:"\u4F55\u65F6\u4F7F\u7528",children:[(0,a.jsx)(l.default,{"aria-hidden":"true",tabIndex:"-1",href:"#\u4F55\u65F6\u4F7F\u7528",sourceType:"a",children:(0,a.jsx)("span",{className:"icon icon-link"})}),"\u4F55\u65F6\u4F7F\u7528"]}),(0,a.jsxs)("ul",{children:[(0,a.jsxs)("li",{children:[u.texts[0].value,(0,a.jsx)("code",{children:u.texts[1].value}),u.texts[2].value,(0,a.jsx)("code",{children:u.texts[3].value})]}),(0,a.jsxs)("li",{children:[u.texts[4].value,(0,a.jsx)("code",{children:u.texts[5].value}),u.texts[6].value]})]}),(0,a.jsxs)("h2",{id:"\u4F7F\u7528\u8BF4\u660E",children:[(0,a.jsx)(l.default,{"aria-hidden":"true",tabIndex:"-1",href:"#\u4F7F\u7528\u8BF4\u660E",sourceType:"a",children:(0,a.jsx)("span",{className:"icon icon-link"})}),"\u4F7F\u7528\u8BF4\u660E"]}),(0,a.jsxs)("p",{children:[u.texts[7].value,(0,a.jsx)("code",{children:u.texts[8].value}),u.texts[9].value,(0,a.jsx)("code",{children:u.texts[10].value}),u.texts[11].value]}),(0,a.jsx)(s.default,{lang:"js",children:u.texts[12].value}),(0,a.jsxs)("h2",{id:"\u4EE3\u7801\u6F14\u793A",children:[(0,a.jsx)(l.default,{"aria-hidden":"true",tabIndex:"-1",href:"#\u4EE3\u7801\u6F14\u793A",sourceType:"a",children:(0,a.jsx)("span",{className:"icon icon-link"})}),"\u4EE3\u7801\u6F14\u793A"]})]}),(0,a.jsx)(i.default,{items:[{demo:{id:"docs-x-sdk-x-stream-demo-default-protocol"},previewerProps:{title:"\u9ED8\u8BA4\u534F\u8BAE - SSE",filename:"docs/x-sdk/demos/x-stream/default-protocol.tsx",pkgDependencyList:{"@antv/gpt-vis":"^0.5.10","@antv/infographic":"0.2.7","@blazediff/core":"^1.8.0","@codesandbox/sandpack-react":"^2.19.8","@emotion/react":"^11.13.5","@emotion/server":"^11.11.0","@happy-dom/jest-environment":"^20.0.11","@ianvs/prettier-plugin-sort-imports":"^4.3.1","@microflash/rehype-figure":"^2.1.1","@npmcli/run-script":"^10.0.3","@octokit/rest":"^21.0.2","@prettier/sync":"^0.6.1","@qixian.cs/github-contributors-list":"^2.0.2","@rc-component/drawer":"^1.3.0","@rc-component/father-plugin":"^2.0.4","@rc-component/np":"^1.0.3","@rc-component/table":"^1.9.0","@rc-component/trigger":"^3.7.1","@rc-component/virtual-list":"^1.0.2","@stackblitz/sdk":"^1.11.0","@testing-library/dom":"^10.4.0","@testing-library/jest-dom":"^6.5.0","@testing-library/user-event":"^14.5.2","@types/adm-zip":"^0.5.5","@types/ali-oss":"^6.16.11","@types/cli-progress":"^3.11.6","@types/fs-extra":"^11.0.4","@types/gtag.js":"^0.0.20","@types/http-server":"^0.12.4","@types/inquirer":"^9.0.7","@types/isomorphic-fetch":"^0.0.39","@types/jest":"^30.0.0","@types/jest-axe":"^3.5.9","@types/jest-environment-puppeteer":"^5.0.6","@types/jest-image-snapshot":"^6.4.0","@types/jquery":"^3.5.30","@types/jsdom":"^27.0.0","@types/lodash":"^4.17.7","@types/minimist":"^1.2.5","@types/node":"^24.0.3","@types/ora":"^3.2.0","@types/pngjs":"^6.0.5","@types/prismjs":"^1.26.4","@types/progress":"^2.0.7","@types/qs":"^6.9.16","@types/react":"^19.0.2","@types/react-copy-to-clipboard":"^5.0.7","@types/react-dom":"^19.0.2","@types/react-highlight-words":"^0.20.0","@types/react-resizable":"^3.0.8","@types/semver":"^7.5.8","@types/spinnies":"^0.5.3","@types/tar":"^6.1.13","@types/throttle-debounce":"^5.0.2","@types/warning":"^3.0.3","@umijs/fabric":"^4.0.1","adm-zip":"^0.5.16","ali-oss":"^6.21.0",antd:"^6.1.1","antd-style":"^4.0.0-alpha.1","antd-token-previewer":"^3.0.0",axios:"^1.7.7",browserslist:"^4.23.3","browserslist-to-esbuild":"^2.1.1",chalk:"^5.4.1",cheerio:"^1.0.0","cli-progress":"^3.12.0","copy-to-clipboard":"^3.3.3","cross-env":"^7.0.3","cross-fetch":"^4.0.0",crypto:"^1.0.1",dayjs:"^1.11.13",dumi:"~2.4.21","dumi-plugin-color-chunk":"^2.1.0","esbuild-loader":"^4.2.2","fast-glob":"^3.3.2","fetch-jsonp":"^1.3.0","fs-extra":"^11.2.0","happy-dom":"^20.0.10",html2sketch:"^1.0.2","http-server":"^14.1.1","identity-obj-proxy":"^3.0.0",immer:"^10.1.1",inquirer:"^13.1.0","is-ci":"^4.1.0","isomorphic-fetch":"^3.0.0",jest:"^30.2.0","jest-axe":"^10.0.0","jest-canvas-mock":"^2.5.2","jest-environment-node":"^30.0.0","jest-image-snapshot":"^6.5.1","jest-puppeteer":"^11.0.0",jquery:"^3.7.1",jsdom:"^26.0.0","jsonml-to-react-element":"^1.1.11","jsonml.js":"^0.1.0",lodash:"^4.17.21","lottie-web":"^5.12.2","lunar-typescript":"^1.7.5","lz-string":"^1.5.0",minimist:"^1.2.8",mockdate:"^3.0.5","node-fetch":"^3.3.2","node-notifier":"^10.0.1",open:"^11.0.0",openai:"^6.15.0",ora:"^8.1.0",pngjs:"^7.0.0","prettier-plugin-jsdoc":"^1.3.0","pretty-format":"^30.0.0",prismjs:"^1.29.0",puppeteer:"^24.0.0",qs:"^6.13.0","rc-footer":"^0.6.8",react:"^19.0.0","react-copy-to-clipboard":"^5.1.0","react-dom":"^19.0.0","react-highlight-words":"^0.20.0","react-infinite-scroll-component":"^6.1.0","react-intersection-observer":"^10.0.0","react-intl":"^7.1.11","react-resizable":"^3.0.5","react-router-dom":"^7.0.1","react-sticky-box":"^2.0.5","regenerator-runtime":"^0.14.1","rehype-stringify":"^10.0.0",remark:"^15.0.1","remark-cli":"^12.0.1","remark-gfm":"^4.0.0","remark-lint":"^10.0.0","remark-lint-no-undefined-references":"^5.0.0","remark-preset-lint-recommended":"^7.0.0","remark-rehype":"^11.1.0","scroll-into-view-if-needed":"^3.1.0",semver:"^7.6.3",sharp:"^0.34.5","simple-git":"^3.26.0",spinnies:"^0.5.1",tar:"^7.4.3","tbox-nodejs-sdk":"^0.0.13",tsx:"^4.19.1",typedoc:"^0.28.0",typescript:"~5.9.3","vanilla-jsoneditor":"^3.0.0","web-streams-polyfill":"^4.0.0",webpack:"^5.94.0","webpack-bundle-analyzer":"^5.0.1","@ant-design/colors":"^8.0.0","@ant-design/cssinjs":"^2.0.1","@ant-design/cssinjs-utils":"^2.0.2","@ant-design/fast-color":"^3.0.0","@ant-design/icons":"^6.0.0","@babel/runtime":"^7.25.6",clsx:"^2.1.1","lodash.throttle":"^4.1.1","@rc-component/motion":"^1.1.6","@rc-component/util":"^1.4.0","@rc-component/resize-observer":"^1.0.1","react-syntax-highlighter":"^16.1.0",mermaid:"^11.12.1"},pkgPeerDependencies:{antd:"^6.1.1",react:">=18.0.0","react-dom":">=18.0.0"},jsx:"var __awaiter =\n  (this && this.__awaiter) ||\n  function (thisArg, _arguments, P, generator) {\n    function adopt(value) {\n      return value instanceof P\n        ? value\n        : new P(function (resolve) {\n            resolve(value);\n          });\n    }\n    return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) {\n        try {\n          step(generator.next(value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function rejected(value) {\n        try {\n          step(generator['throw'](value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function step(result) {\n        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n      }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n  };\nvar __asyncValues =\n  (this && this.__asyncValues) ||\n  function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError('Symbol.asyncIterator is not defined.');\n    var m = o[Symbol.asyncIterator],\n      i;\n    return m\n      ? m.call(o)\n      : ((o = typeof __values === 'function' ? __values(o) : o[Symbol.iterator]()),\n        (i = {}),\n        verb('next'),\n        verb('throw'),\n        verb('return'),\n        (i[Symbol.asyncIterator] = function () {\n          return this;\n        }),\n        i);\n    function verb(n) {\n      i[n] =\n        o[n] &&\n        function (v) {\n          return new Promise(function (resolve, reject) {\n            ((v = o[n](v)), settle(resolve, reject, v.done, v.value));\n          });\n        };\n    }\n    function settle(resolve, reject, d, v) {\n      Promise.resolve(v).then(function (v) {\n        resolve({ value: v, done: d });\n      }, reject);\n    }\n  };\nimport { TagsOutlined } from '@ant-design/icons';\nimport { Bubble, ThoughtChain } from '@ant-design/x';\nimport { XStream } from '@ant-design/x-sdk';\nimport { Button, Flex, Radio, Splitter } from 'antd';\nimport React from 'react';\nconst contentChunks = ['Hello', ' ', 'I', ' ', 'am', ' ', 'Ant', ' ', 'Design', ' ', 'X', '!'];\nfunction createRealisticStream(partSeparator, streamSeparator) {\n  let index = 0;\n  return new ReadableStream({\n    pull(controller) {\n      return __awaiter(this, void 0, void 0, function* () {\n        if (index >= contentChunks.length) {\n          controller.close();\n          return;\n        }\n        // \u968F\u673A\u5EF6\u8FDF\u6A21\u62DF\u7F51\u7EDC\u5EF6\u8FDF\n        yield new Promise(resolve => setTimeout(resolve, Math.random() * 100 + 50));\n        const chunk = contentChunks[index];\n        const sseData = `event:message${partSeparator}data:{\"id\":\"${index}\",\"content\":\"${chunk}\"}${streamSeparator}`;\n        controller.enqueue(new TextEncoder().encode(sseData));\n        index++;\n      });\n    },\n  });\n}\n// \u4FDD\u6301\u5411\u540E\u517C\u5BB9\nfunction mockReadableStream(partSeparator, streamSeparator) {\n  return createRealisticStream(partSeparator, streamSeparator);\n}\nconst App = () => {\n  const [lines, setLines] = React.useState([]);\n  const content = lines\n    .map(\n      line => JSON.parse((line === null || line === void 0 ? void 0 : line.data) || '{}').content,\n    )\n    .join('');\n  const [partSeparator, setPartSeparator] = React.useState('\\n');\n  const [streamSeparator, setStreamSeparator] = React.useState('\\n\\n');\n  function readStream() {\n    return __awaiter(this, void 0, void 0, function* () {\n      var _a, e_1, _b, _c;\n      setLines([]);\n      try {\n        for (\n          var _d = true,\n            _e = __asyncValues(\n              XStream({\n                readableStream: mockReadableStream(partSeparator, streamSeparator),\n                partSeparator,\n                streamSeparator,\n              }),\n            ),\n            _f;\n          (_f = yield _e.next()), (_a = _f.done), !_a;\n          _d = true\n        ) {\n          _c = _f.value;\n          _d = false;\n          const chunk = _c;\n          setLines(pre => [...pre, chunk]);\n        }\n      } catch (e_1_1) {\n        e_1 = { error: e_1_1 };\n      } finally {\n        try {\n          if (!_d && !_a && (_b = _e.return)) yield _b.call(_e);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    });\n  }\n  return (\n    <Splitter>\n      <Splitter.Panel>\n        <Flex vertical gap=\"small\">\n          <Flex gap=\"small\">\n            partSeparator:\n            <Radio.Group\n              value={partSeparator}\n              onChange={e => setPartSeparator(e.target.value)}\n              options={[\n                { value: '\\n', label: '\\\\n (default)' },\n                { value: '\\r\\n', label: '\\\\r\\\\n' },\n              ]}\n            />\n          </Flex>\n          <Flex gap=\"small\">\n            streamSeparator:\n            <Radio.Group\n              value={streamSeparator}\n              onChange={e => setStreamSeparator(e.target.value)}\n              options={[\n                { value: '\\n\\n', label: '\\\\n\\\\n (default)' },\n                { value: '\\r\\n', label: '\\\\r\\\\n' },\n              ]}\n            />\n          </Flex>\n\n          {/* -------------- Emit -------------- */}\n          <Button type=\"primary\" onClick={readStream} style={{ marginBottom: 16 }}>\n            Mock Default Protocol - SSE\n          </Button>\n        </Flex>\n        lines: {JSON.stringify(lines)}\n        {/* -------------- Content Concat -------------- */}\n        content: {content ? <Bubble content={content} /> : 'no content'}\n      </Splitter.Panel>\n      {/* -------------- Log -------------- */}\n      <Splitter.Panel style={{ marginLeft: 16 }}>\n        <ThoughtChain\n          items={\n            lines.length\n              ? [\n                  {\n                    title: 'Mock Default Protocol - Log',\n                    status: 'success',\n                    icon: <TagsOutlined />,\n                    content: (\n                      <pre style={{ overflow: 'scroll' }}>\n                        {lines.map(i => (\n                          <code key={i.data}>{i.data}</code>\n                        ))}\n                      </pre>\n                    ),\n                  },\n                ]\n              : []\n          }\n        />\n      </Splitter.Panel>\n    </Splitter>\n  );\n};\nexport default App;\n",description:'<blockquote>\n<p>SSE - <a href="https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events">https://developer.mozilla.org/en-US/docs/Web/API/Server-sent_events</a></p>\n</blockquote>\n<p>XStream \u9ED8\u8BA4\u7684 <code>transformStream</code> \u662F\u7528\u4E8E SSE \u534F\u8BAE\u7684\u6D41\u8F6C\u6362\u5668\u3002<code>readableStream</code> \u63A5\u6536\u4E00\u4E2A <code>new ReadableStream(...)</code> \u5B9E\u4F8B\uFF0C\u5E38\u89C1\u7684\u5982 <code>await fetch(...).body</code></p>'}},{demo:{id:"docs-x-sdk-x-stream-demo-custom-protocol"},previewerProps:{title:"\u81EA\u5B9A\u4E49\u534F\u8BAE",filename:"docs/x-sdk/demos/x-stream/custom-protocol.tsx",pkgDependencyList:{"@antv/gpt-vis":"^0.5.10","@antv/infographic":"0.2.7","@blazediff/core":"^1.8.0","@codesandbox/sandpack-react":"^2.19.8","@emotion/react":"^11.13.5","@emotion/server":"^11.11.0","@happy-dom/jest-environment":"^20.0.11","@ianvs/prettier-plugin-sort-imports":"^4.3.1","@microflash/rehype-figure":"^2.1.1","@npmcli/run-script":"^10.0.3","@octokit/rest":"^21.0.2","@prettier/sync":"^0.6.1","@qixian.cs/github-contributors-list":"^2.0.2","@rc-component/drawer":"^1.3.0","@rc-component/father-plugin":"^2.0.4","@rc-component/np":"^1.0.3","@rc-component/table":"^1.9.0","@rc-component/trigger":"^3.7.1","@rc-component/virtual-list":"^1.0.2","@stackblitz/sdk":"^1.11.0","@testing-library/dom":"^10.4.0","@testing-library/jest-dom":"^6.5.0","@testing-library/user-event":"^14.5.2","@types/adm-zip":"^0.5.5","@types/ali-oss":"^6.16.11","@types/cli-progress":"^3.11.6","@types/fs-extra":"^11.0.4","@types/gtag.js":"^0.0.20","@types/http-server":"^0.12.4","@types/inquirer":"^9.0.7","@types/isomorphic-fetch":"^0.0.39","@types/jest":"^30.0.0","@types/jest-axe":"^3.5.9","@types/jest-environment-puppeteer":"^5.0.6","@types/jest-image-snapshot":"^6.4.0","@types/jquery":"^3.5.30","@types/jsdom":"^27.0.0","@types/lodash":"^4.17.7","@types/minimist":"^1.2.5","@types/node":"^24.0.3","@types/ora":"^3.2.0","@types/pngjs":"^6.0.5","@types/prismjs":"^1.26.4","@types/progress":"^2.0.7","@types/qs":"^6.9.16","@types/react":"^19.0.2","@types/react-copy-to-clipboard":"^5.0.7","@types/react-dom":"^19.0.2","@types/react-highlight-words":"^0.20.0","@types/react-resizable":"^3.0.8","@types/semver":"^7.5.8","@types/spinnies":"^0.5.3","@types/tar":"^6.1.13","@types/throttle-debounce":"^5.0.2","@types/warning":"^3.0.3","@umijs/fabric":"^4.0.1","adm-zip":"^0.5.16","ali-oss":"^6.21.0",antd:"^6.1.1","antd-style":"^4.0.0-alpha.1","antd-token-previewer":"^3.0.0",axios:"^1.7.7",browserslist:"^4.23.3","browserslist-to-esbuild":"^2.1.1",chalk:"^5.4.1",cheerio:"^1.0.0","cli-progress":"^3.12.0","copy-to-clipboard":"^3.3.3","cross-env":"^7.0.3","cross-fetch":"^4.0.0",crypto:"^1.0.1",dayjs:"^1.11.13",dumi:"~2.4.21","dumi-plugin-color-chunk":"^2.1.0","esbuild-loader":"^4.2.2","fast-glob":"^3.3.2","fetch-jsonp":"^1.3.0","fs-extra":"^11.2.0","happy-dom":"^20.0.10",html2sketch:"^1.0.2","http-server":"^14.1.1","identity-obj-proxy":"^3.0.0",immer:"^10.1.1",inquirer:"^13.1.0","is-ci":"^4.1.0","isomorphic-fetch":"^3.0.0",jest:"^30.2.0","jest-axe":"^10.0.0","jest-canvas-mock":"^2.5.2","jest-environment-node":"^30.0.0","jest-image-snapshot":"^6.5.1","jest-puppeteer":"^11.0.0",jquery:"^3.7.1",jsdom:"^26.0.0","jsonml-to-react-element":"^1.1.11","jsonml.js":"^0.1.0",lodash:"^4.17.21","lottie-web":"^5.12.2","lunar-typescript":"^1.7.5","lz-string":"^1.5.0",minimist:"^1.2.8",mockdate:"^3.0.5","node-fetch":"^3.3.2","node-notifier":"^10.0.1",open:"^11.0.0",openai:"^6.15.0",ora:"^8.1.0",pngjs:"^7.0.0","prettier-plugin-jsdoc":"^1.3.0","pretty-format":"^30.0.0",prismjs:"^1.29.0",puppeteer:"^24.0.0",qs:"^6.13.0","rc-footer":"^0.6.8",react:"^19.0.0","react-copy-to-clipboard":"^5.1.0","react-dom":"^19.0.0","react-highlight-words":"^0.20.0","react-infinite-scroll-component":"^6.1.0","react-intersection-observer":"^10.0.0","react-intl":"^7.1.11","react-resizable":"^3.0.5","react-router-dom":"^7.0.1","react-sticky-box":"^2.0.5","regenerator-runtime":"^0.14.1","rehype-stringify":"^10.0.0",remark:"^15.0.1","remark-cli":"^12.0.1","remark-gfm":"^4.0.0","remark-lint":"^10.0.0","remark-lint-no-undefined-references":"^5.0.0","remark-preset-lint-recommended":"^7.0.0","remark-rehype":"^11.1.0","scroll-into-view-if-needed":"^3.1.0",semver:"^7.6.3",sharp:"^0.34.5","simple-git":"^3.26.0",spinnies:"^0.5.1",tar:"^7.4.3","tbox-nodejs-sdk":"^0.0.13",tsx:"^4.19.1",typedoc:"^0.28.0",typescript:"~5.9.3","vanilla-jsoneditor":"^3.0.0","web-streams-polyfill":"^4.0.0",webpack:"^5.94.0","webpack-bundle-analyzer":"^5.0.1","@ant-design/colors":"^8.0.0","@ant-design/cssinjs":"^2.0.1","@ant-design/cssinjs-utils":"^2.0.2","@ant-design/fast-color":"^3.0.0","@ant-design/icons":"^6.0.0","@babel/runtime":"^7.25.6",clsx:"^2.1.1","lodash.throttle":"^4.1.1","@rc-component/motion":"^1.1.6","@rc-component/util":"^1.4.0","@rc-component/resize-observer":"^1.0.1","react-syntax-highlighter":"^16.1.0",mermaid:"^11.12.1"},pkgPeerDependencies:{antd:"^6.1.1",react:">=18.0.0","react-dom":">=18.0.0"},jsx:"var __awaiter =\n  (this && this.__awaiter) ||\n  function (thisArg, _arguments, P, generator) {\n    function adopt(value) {\n      return value instanceof P\n        ? value\n        : new P(function (resolve) {\n            resolve(value);\n          });\n    }\n    return new (P || (P = Promise))(function (resolve, reject) {\n      function fulfilled(value) {\n        try {\n          step(generator.next(value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function rejected(value) {\n        try {\n          step(generator['throw'](value));\n        } catch (e) {\n          reject(e);\n        }\n      }\n      function step(result) {\n        result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected);\n      }\n      step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n  };\nvar __asyncValues =\n  (this && this.__asyncValues) ||\n  function (o) {\n    if (!Symbol.asyncIterator) throw new TypeError('Symbol.asyncIterator is not defined.');\n    var m = o[Symbol.asyncIterator],\n      i;\n    return m\n      ? m.call(o)\n      : ((o = typeof __values === 'function' ? __values(o) : o[Symbol.iterator]()),\n        (i = {}),\n        verb('next'),\n        verb('throw'),\n        verb('return'),\n        (i[Symbol.asyncIterator] = function () {\n          return this;\n        }),\n        i);\n    function verb(n) {\n      i[n] =\n        o[n] &&\n        function (v) {\n          return new Promise(function (resolve, reject) {\n            ((v = o[n](v)), settle(resolve, reject, v.done, v.value));\n          });\n        };\n    }\n    function settle(resolve, reject, d, v) {\n      Promise.resolve(v).then(function (v) {\n        resolve({ value: v, done: d });\n      }, reject);\n    }\n  };\nimport { TagsOutlined } from '@ant-design/icons';\nimport { ThoughtChain } from '@ant-design/x';\nimport { XStream } from '@ant-design/x-sdk';\nimport { Button, Splitter } from 'antd';\nimport React from 'react';\nconst sipHeaders = [\n  'INVITE sip:[email protected] SIP/2.0\\n',\n  'Via: SIP/2.0/UDP [host];branch=123456\\n',\n  'Content-Type: application/sdp\\n\\n',\n];\nconst sdp = [\n  'v=0\\n',\n  'o=alice 2890844526 2890844526 IN IP4 [host]\\n',\n  's=\\n',\n  'c=IN IP4 [host]\\n',\n  't=0 0\\n',\n  'm=audio 49170 RTP/AVP 0\\n',\n  'a=rtpmap:0 PCMU/8000\\n',\n  'm=video 51372 RTP/AVP 31\\n',\n  'a=rtpmap:31 H261/90000\\n',\n  'm=video 53000 RTP/AVP 32\\n',\n  'a=rtpmap:32 MPV/90000\\n\\n',\n];\nfunction mockReadableStream() {\n  return new ReadableStream({\n    start(controller) {\n      return __awaiter(this, void 0, void 0, function* () {\n        for (const chunk of sipHeaders.concat(sdp)) {\n          yield new Promise(resolve => setTimeout(resolve, 100));\n          controller.enqueue(new TextEncoder().encode(chunk));\n        }\n        controller.close();\n      });\n    },\n  });\n}\nconst App = () => {\n  const [lines, setLines] = React.useState([]);\n  function readStream() {\n    return __awaiter(this, void 0, void 0, function* () {\n      var _a, e_1, _b, _c;\n      try {\n        // \u{1F31F} Read the stream\n        for (\n          var _d = true,\n            _e = __asyncValues(\n              XStream({\n                readableStream: mockReadableStream(),\n                transformStream: new TransformStream({\n                  transform(chunk, controller) {\n                    controller.enqueue(chunk);\n                  },\n                }),\n              }),\n            ),\n            _f;\n          (_f = yield _e.next()), (_a = _f.done), !_a;\n          _d = true\n        ) {\n          _c = _f.value;\n          _d = false;\n          const chunk = _c;\n          setLines(pre => [...pre, chunk]);\n        }\n      } catch (e_1_1) {\n        e_1 = { error: e_1_1 };\n      } finally {\n        try {\n          if (!_d && !_a && (_b = _e.return)) yield _b.call(_e);\n        } finally {\n          if (e_1) throw e_1.error;\n        }\n      }\n    });\n  }\n  return (\n    <Splitter>\n      <Splitter.Panel>\n        <Button type=\"primary\" onClick={readStream} style={{ marginBottom: 16 }}>\n          Mock Custom Protocol - SIP\n        </Button>\n      </Splitter.Panel>\n      {/* -------------- Log -------------- */}\n      <Splitter.Panel style={{ marginLeft: 16 }}>\n        <ThoughtChain\n          items={\n            lines.length\n              ? [\n                  {\n                    title: 'Mock Custom Protocol - Log',\n                    status: 'success',\n                    icon: <TagsOutlined />,\n                    content: (\n                      <pre style={{ overflow: 'scroll' }}>\n                        <code>{lines.join('')}</code>\n                      </pre>\n                    ),\n                  },\n                ]\n              : []\n          }\n        />\n      </Splitter.Panel>\n    </Splitter>\n  );\n};\nexport default App;\n",description:"<blockquote>\n<p>\u5728\u672C\u793A\u4F8B\u4E2D\uFF0C\u6211\u4EEC\u5C06\u6F14\u793A\u5982\u4F55\u89E3\u6790 SIP \u534F\u8BAE, \u8BE5\u534F\u8BAE\u5E38\u7528\u4E8E P2P \u97F3\u89C6\u9891\u4F1A\u8BDD\u534F\u5546\u3002</p>\n</blockquote>\n<p>\u4F20\u5165 <code>transformStream</code> \u6D41\u8F6C\u6362\u5668\uFF0C\u8BE5\u53C2\u6570\u9700\u63A5\u6536\u4E00\u4E2A <code>new TransformStream(...)</code> \u5B9E\u4F8B\u3002</p>"}}]}),(0,a.jsxs)("div",{className:"markdown",children:[(0,a.jsxs)("h2",{id:"api",children:[(0,a.jsx)(l.default,{"aria-hidden":"true",tabIndex:"-1",href:"#api",sourceType:"a",children:(0,a.jsx)("span",{className:"icon icon-link"})}),"API"]}),(0,a.jsxs)("h3",{id:"xstreamoptions",children:[(0,a.jsx)(l.default,{"aria-hidden":"true",tabIndex:"-1",href:"#xstreamoptions",sourceType:"a",children:(0,a.jsx)("span",{className:"icon icon-link"})}),"XStreamOptions"]}),(0,a.jsxs)(o.default,{className:"component-api-table",children:[(0,a.jsx)("thead",{children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{children:u.texts[13].value}),(0,a.jsx)("th",{children:u.texts[14].value}),(0,a.jsx)("th",{children:u.texts[15].value}),(0,a.jsx)("th",{children:u.texts[16].value}),(0,a.jsx)("th",{children:u.texts[17].value})]})}),(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:u.texts[18].value}),(0,a.jsx)("td",{children:u.texts[19].value}),(0,a.jsx)("td",{children:u.texts[20].value}),(0,a.jsx)("td",{children:u.texts[21].value}),(0,a.jsx)("td",{children:u.texts[22].value})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:u.texts[23].value}),(0,a.jsx)("td",{children:u.texts[24].value}),(0,a.jsx)("td",{children:u.texts[25].value}),(0,a.jsx)("td",{children:u.texts[26].value}),(0,a.jsx)("td",{children:u.texts[27].value})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:u.texts[28].value}),(0,a.jsx)("td",{children:u.texts[29].value}),(0,a.jsx)("td",{children:u.texts[30].value}),(0,a.jsx)("td",{children:u.texts[31].value}),(0,a.jsx)("td",{children:u.texts[32].value})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:u.texts[33].value}),(0,a.jsx)("td",{children:u.texts[34].value}),(0,a.jsx)("td",{children:u.texts[35].value}),(0,a.jsx)("td",{children:u.texts[36].value}),(0,a.jsx)("td",{children:u.texts[37].value})]}),(0,a.jsxs)("tr",{children:[(0,a.jsx)("td",{children:u.texts[38].value}),(0,a.jsx)("td",{children:u.texts[39].value}),(0,a.jsx)("td",{children:u.texts[40].value}),(0,a.jsx)("td",{children:u.texts[41].value}),(0,a.jsx)("td",{children:u.texts[42].value})]})]})]})]})]})})});};}}]);
//# sourceMappingURL=daf0eb5e-async.a1c415e9.js.map