{"version":3,"sources":["docs/x-markdown/components.zh-CN.md?type=text"],"sourcesContent":["\n  import '/home/runner/work/x/x/packages/x/docs/x-markdown/components.zh-CN.md?watch=parent';\n  export const texts = [{\"value\":\"components\",\"paraId\":0},{\"value\":\" 属性允许你使用自定义 React 组件替换标准的 HTML 标签。\",\"paraId\":0},{\"value\":\"import React from 'react';\\nimport { XMarkdown } from '@ant-design/x-markdown';\\n\\nconst CustomHeading = ({ children, ...props }) => (\\n  <h1 style={{ color: '#1890ff' }} {...props}>\\n    {children}\\n  </h1>\\n);\\n\\nconst App = () => <XMarkdown content=\\\"# Hello World\\\" components={{ h1: CustomHeading }} />;\\n\",\"paraId\":1,\"tocIndex\":0},{\"value\":\"// ❌ 错误：每次渲染创建新组件\\n<XMarkdown components={{ h1: (props) => <h1 {...props} /> }} />;\\n\\n// ✅ 正确：使用预定义组件\\nconst Heading = (props) => <h1 {...props} />;\\n<XMarkdown components={{ h1: Heading }} />;\\n\",\"paraId\":2,\"tocIndex\":2},{\"value\":\"const StaticContent = React.memo(({ children }) => <div className=\\\"static\\\">{children}</div>);\\n\",\"paraId\":3,\"tocIndex\":3},{\"value\":\"XMarkdown 会默认给组件传递 \",\"paraId\":4,\"tocIndex\":4},{\"value\":\"streamStatus\",\"paraId\":4,\"tocIndex\":4},{\"value\":\" 属性，用于标识组件是否闭合，便于处理流式渲染。\",\"paraId\":4,\"tocIndex\":4},{\"value\":\"const StreamingComponent = ({ streamStatus, children }) => {\\n  if (streamStatus === 'loading') {\\n    return <div className=\\\"loading\\\">加载中...</div>;\\n  }\\n  return <div>{children}</div>;\\n};\\n\",\"paraId\":5,\"tocIndex\":5},{\"value\":\"组件支持两种数据获取方式：直接解析 Markdown 中的数据，或自主发起网络请求。\",\"paraId\":6,\"tocIndex\":6},{\"value\":\"const UserCard = ({ domNode, streamStatus }) => {\\n  const [user, setUser] = useState(null);\\n  const username = domNode.attribs?.['data-username'];\\n\\n  useEffect(() => {\\n    if (username && streamStatus === 'done') {\\n      fetch(`/api/users/${username}`)\\n        .then((r) => r.json())\\n        .then(setUser);\\n    }\\n  }, [username, streamStatus]);\\n\\n  if (!user) return <div>加载中...</div>;\\n\\n  return (\\n    <div className=\\\"user-card\\\">\\n      <img src={user.avatar} alt={user.name} />\\n      <span>{user.name}</span>\\n    </div>\\n  );\\n};\\n\",\"paraId\":7,\"tocIndex\":7},{\"value\":\"标签\",\"paraId\":8,\"tocIndex\":9},{\"value\":\"组件名\",\"paraId\":8,\"tocIndex\":9},{\"value\":\"a\",\"paraId\":8,\"tocIndex\":9},{\"value\":\"a\",\"paraId\":8,\"tocIndex\":9},{\"value\":\"h1-h6\",\"paraId\":8,\"tocIndex\":9},{\"value\":\"h1-h6\",\"paraId\":8,\"tocIndex\":9},{\"value\":\"p\",\"paraId\":8,\"tocIndex\":9},{\"value\":\"p\",\"paraId\":8,\"tocIndex\":9},{\"value\":\"img\",\"paraId\":8,\"tocIndex\":9},{\"value\":\"img\",\"paraId\":8,\"tocIndex\":9},{\"value\":\"table\",\"paraId\":8,\"tocIndex\":9},{\"value\":\"table\",\"paraId\":8,\"tocIndex\":9},{\"value\":\"ul/ol/li\",\"paraId\":8,\"tocIndex\":9},{\"value\":\"ul/ol/li\",\"paraId\":8,\"tocIndex\":9},{\"value\":\"code/pre\",\"paraId\":8,\"tocIndex\":9},{\"value\":\"code/pre\",\"paraId\":8,\"tocIndex\":9},{\"value\":\"// 支持任意自定义标签\\n<XMarkdown\\n  components={{\\n    'my-component': MyComponent,\\n    'user-card': UserCard,\\n  }}\\n/>\\n\",\"paraId\":9,\"tocIndex\":10},{\"value\":\"属性\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"说明\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"类型\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"默认值\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"domNode\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"来自 html-react-parser 的组件 DOM 节点，包含解析后的 DOM 节点信息\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"DOMNode\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"-\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"streamStatus\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"流式渲染支持两种状态：\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"loading\",\"paraId\":10,\"tocIndex\":11},{\"value\":\" 表示内容正在加载中，\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"done\",\"paraId\":10,\"tocIndex\":11},{\"value\":\" 表示加载已完成。当前仅支持 HTML 格式以及带围栏的代码块（fenced code）。由于缩进代码块（indented code）没有明确的结束符，因此始终返回 \",\"paraId\":10,\"tocIndex\":11},{\"value\":\"done\",\"paraId\":10,\"tocIndex\":11},{\"value\":\" 状态\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"'loading' | 'done'\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"-\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"children\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"包裹在组件中的内容，包含 DOM 节点的文本内容\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"React.ReactNode\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"-\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"rest\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"组件属性，支持所有标准 HTML 属性（如 \",\"paraId\":10,\"tocIndex\":11},{\"value\":\"href\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"、\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"title\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"、\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"className\",\"paraId\":10,\"tocIndex\":11},{\"value\":\" 等）和自定义数据属性\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"Record<string, any>\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"-\",\"paraId\":10,\"tocIndex\":11},{\"value\":\"块级 HTML 标签内部包含空行（\\\\n\\\\n），Markdown 解析器将空行视为新段落的开始，从而中断对原始 HTML 块的识别。这会导致闭合标签被错误地解析为行内 HTML 或普通文本，最终破坏标签结构。\",\"paraId\":11,\"tocIndex\":13},{\"value\":\"示例问题：\",\"paraId\":12,\"tocIndex\":13},{\"value\":\"输入 Markdown：\",\"paraId\":13,\"tocIndex\":13},{\"value\":\"<think>\\n这是思考内容\\n\\n思考内容包含空行 </think>\\n\\n这是正文内容\\n\",\"paraId\":14,\"tocIndex\":13},{\"value\":\"错误输出：\",\"paraId\":15,\"tocIndex\":13},{\"value\":\"<think>\\n  这是思考内容\\n\\n  <p>思考内容包含空行</p>\\n  <p>这是正文内容</p>\\n</think>\\n\",\"paraId\":16,\"tocIndex\":13},{\"value\":\"根本原因：\",\"paraId\":17,\"tocIndex\":13},{\"value\":\" 根据 \",\"paraId\":17,\"tocIndex\":13},{\"value\":\"CommonMark\",\"paraId\":17,\"tocIndex\":13},{\"value\":\" 规范，HTML 块的识别依赖于严格的格式规则。一旦在 HTML 块内部出现两个连续换行（即空行），且未满足特定 HTML 块类型（如 \",\"paraId\":17,\"tocIndex\":13},{\"value\":\"<div>\",\"paraId\":17,\"tocIndex\":13},{\"value\":\"、\",\"paraId\":17,\"tocIndex\":13},{\"value\":\"<pre>\",\"paraId\":17,\"tocIndex\":13},{\"value\":\" 等）的延续条件，解析器会终止当前 HTML 块，并将后续内容作为 Markdown 段落处理。\",\"paraId\":17,\"tocIndex\":13},{\"value\":\"自定义标签（如 \",\"paraId\":18,\"tocIndex\":13},{\"value\":\"<think>\",\"paraId\":18,\"tocIndex\":13},{\"value\":\" ）通常不被识别为“可跨段落”的 HTML 块类型，因此极易受空行干扰。\",\"paraId\":18,\"tocIndex\":13},{\"value\":\"解决方案：\",\"paraId\":19,\"tocIndex\":13},{\"value\":\"方案一\",\"paraId\":20,\"tocIndex\":13},{\"value\":\"：移除标签内部所有空行\",\"paraId\":20,\"tocIndex\":13},{\"value\":\"<think>\\n这是思考内容\\n思考内容无空行\\n</think>\\n\",\"paraId\":21,\"tocIndex\":13},{\"value\":\"方案二\",\"paraId\":22,\"tocIndex\":13},{\"value\":\"：在 HTML 标签前后及内部添加空行，使其成为独立块\",\"paraId\":22,\"tocIndex\":13},{\"value\":\"<think>\\n\\n这是思考内容\\n\\n思考内容包含空行\\n\\n</think>\\n\",\"paraId\":23,\"tocIndex\":13}];\n  "],"names":[],"mappings":"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"}